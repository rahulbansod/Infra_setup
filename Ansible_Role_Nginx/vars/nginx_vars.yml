---
#Nginx Variables
nginx_conf_file_path: /etc/nginx/nginx.conf
nginx_sendfile: on
nginx_tcp_nopush: on
nginx_tcp_nodelay: on
nginx_gzip: on
#Nginx Template Variable
nginx_conf_template: "nginx.conf.j2"
rproxy_conf_template: "reverse_proxy.j2"
nginx_repo_template: "nginx_repo.j2"
#Nginx config file location
nginx_conf_path: /etc/nginx/conf.d

nginx_worker_processes: auto
nginx_worker_connections: 1024
nginx_mine_file_path: /etc/nginx/mime.types

#Nginx limits and buffers
nginx_limits_buffers: |-
  client_body_buffer_size 1k;
  client_header_buffer_size 1k;
  client_max_body_size 1k;
  large_client_header_buffers 4 16k;
#Nginx timeouts
nginx_timeouts: |-
  client_body_timeout 10;
  client_header_timeout 10;
  keepalive_timeout 60;
  send_timeout 10;
#Listening ports
nginx_listen_port_ipv4: "80"
nginx_listen_port_ipv6: "[::]:80"
nginx_listen_port_ipv4_ssl: "443 ssl"
nginx_listen_port_ipv6_ssl: "[::]:443 ssl"

nginx_upstream_name: api_backend
nginx_log_format: |-
  '$remote_addr - $remote_user [$time_local] "$request" '
  '$status $body_bytes_sent "$http_referer" '
  '"$http_user_agent" "$http_x_forwarded_for"' '"$server_port" "$remote_port"'

#Reverse Proxy Variable
ssl_certificate: /etc/nginx/cert/server.crt
ssl_certificate_key: /etc/nginx/cert/server.key
ssl_certificate_csr: /etc/nginx/cert/server.csr

rproxy_ssl_config: |-
  ssl_session_cache shared:SSL:1m;
  ssl_session_timeout 10m;
  ssl_ciphers HIGH:!aNULL:!MD5;
  ssl_prefer_server_ciphers on;
  ssl_protocols TLSv1.2;

nginx_rproxy_config: |-
  proxy_next_upstream error timeout invalid_header http_500 http_502 http_503 http_504;
  proxy_redirect off;
  proxy_buffering on;
  proxy_read_timeout 300s;
  proxy_send_timeout 300s;
  proxy_set_header Host            $host;
  proxy_set_header X-Real-IP       $remote_addr;
  proxy_set_header X-Forwarded-For $proxy_Add_x_forwarded_for;

nginx_document_root: /var/www/html
rproxy_location: "/"
app_file_name: index.html
app_location_dir: /example
rproxy_access_log: "/var/log/nginx/{{ rproxy_conf_file }}_access.log main"
rproxy_error_log: "/var/log/nginx/{{ rproxy_conf_file }}_error.log"
rproxy_conf_file: "api.example.conf"
nginx_sites_location_dir: "/etc/nginx/sites-enabled"
lb_type: "least_conn"
upstream_servers:
  server1:
    - server Redhat1.example.com
  server2:
    - server Redhat2.example.com



